{% extends 'chat_room.html' %}
{% load static %}

{% block contacts %}
{% endblock %}

{% block css_links %}
<link rel="stylesheet" type="text/css" href="{% static 'css/call.css' %}">
{% endblock %}

{% block card_body %}
<div class="card-header msg_head" id="card-messaging-box">
    <div class="d-flex bd-highlight">
        <div class="img_cont">
            <img src="{{receiver.avatar.url}}" class="rounded-circle user_img">
            <span class="online_icon"></span>
        </div>
        <div class="user_info">
            <span>Chat with {{receiver.username}}</span>
        </div>
        <div class="video_cam">
            <span><button id="video-button"><i class="fas fa-video"></i></button></span>
            <span><button id="voicecall-button"><i class="fas fa-phone"></i></button></i></span>
        </div>
        <span id="action_menu_btn"><i class="fas fa-ellipsis-v"></i></span>
        <div class="action_menu">
            <ul>
                <li><i class="fas fa-user-circle"></i> View profile</li>
                <li><i class="fas fa-users"></i> Add to close friends</li>
                <li><i class="fas fa-plus"></i> Add to group</li>
                <li><i class="fas fa-ban"></i> Block</li>
            </ul>
        </div>
    </div>
</div>
<!-- card body for messages -->
<div class="card-body msg_card_body" id="card-body">
</div>
<div class="card-footer">
    <div class="input-group">
        <input class="form-control" id="input" type="text"></br>
        <div class="input-group-append">
            <!-- <i class="fa fa-upload" style="font-size:36px" onclick=""><input type="file" accept="image/*,.pdf"></i> -->
            <input class="btn btn-secondary btn-lg btn-block submit" id="submit" type="button" value="Send">
        </div>
    </div>
</div>
{% endblock %}

{% block static_js %}
{{ request.user.username|json_script:"user_username" }}
{{ receiver.username|json_script:"receiver" }}
{{ request.user.avatar.url|json_script:"sender_avatar_url" }}
{{ receiver.avatar.url|json_script:"receiver_avatar_url"}}
{{ receiver.id|json_script:"receiver_id"}}
{{ request.user.id|json_script:"sender_id"}}

<script src="{% static 'js/chatroom.js' %}"></script>
<script src="{% static 'js/call.js' %}"></script>
<script src="{% static 'js/menu_toggle.js' %}"></script>
{% endblock %}